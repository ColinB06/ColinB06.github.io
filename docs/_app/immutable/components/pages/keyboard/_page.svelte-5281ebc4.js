import{S as X,i as Y,s as K,k as M,a as S,q as L,l as A,m as x,h as k,c as C,r as N,p as d,n as B,b as F,D as q,P,Q as U,B as I,J as V,R as J,o as O}from"../../../chunks/index-cd96ad06.js";function z(i,t,e){const s=i.slice();return s[12]=t[e].top,s[13]=t[e].left,s[15]=e,s}function D(i){let t;return{c(){t=M("div"),this.h()},l(e){t=A(e,"DIV",{class:!0,style:!0}),x(t).forEach(k),this.h()},h(){B(t,"class","box svelte-8rdc33"),d(t,"left",i[13]+"px"),d(t,"top",i[12]+"px")},m(e,s){F(e,t,s)},p(e,s){s&4&&d(t,"left",e[13]+"px"),s&4&&d(t,"top",e[12]+"px")},d(e){e&&k(t)}}}function Q(i){let t,e,s,l,p,y,o,g,h=i[2],c=[];for(let a=0;a<h.length;a+=1)c[a]=D(z(i,h,a));return{c(){t=M("main"),e=M("div"),s=S();for(let a=0;a<c.length;a+=1)c[a].c();l=S(),p=M("button"),y=L("Play Again"),this.h()},l(a){t=A(a,"MAIN",{class:!0});var f=x(t);e=A(f,"DIV",{style:!0,class:!0}),x(e).forEach(k),s=C(f);for(let _=0;_<c.length;_+=1)c[_].l(f);l=C(f),p=A(f,"BUTTON",{class:!0});var n=x(p);y=N(n,"Play Again"),n.forEach(k),f.forEach(k),this.h()},h(){d(e,"left",i[1]+"px"),d(e,"top",i[0]+"px"),B(e,"class","svelte-8rdc33"),B(p,"class","play-again-button svelte-8rdc33"),B(t,"class","svelte-8rdc33")},m(a,f){F(a,t,f),q(t,e),q(t,s);for(let n=0;n<c.length;n+=1)c[n].m(t,null);q(t,l),q(t,p),q(p,y),o||(g=[P(window,"keydown",U(i[3])),P(window,"keyup",i[4]),P(p,"click",i[5])],o=!0)},p(a,[f]){if(f&2&&d(e,"left",a[1]+"px"),f&1&&d(e,"top",a[0]+"px"),f&4){h=a[2];let n;for(n=0;n<h.length;n+=1){const _=z(a,h,n);c[n]?c[n].p(_,f):(c[n]=D(_),c[n].c(),c[n].m(t,l))}for(;n<c.length;n+=1)c[n].d(1);c.length=h.length}},i:I,o:I,d(a){a&&k(t),V(c,a),o=!1,J(g)}}}const u=50,m=650;function E(){return{top:Math.floor(Math.random()*(m-u)),left:Math.floor(Math.random()*(m-u)),velocityX:2*(Math.random()>.5?1:-1),velocityY:2*(Math.random()>.5?1:-1)}}function j(i,t,e){let s=50,l=50,p=!1,y=!1;const o=new Set;let g,h=[];function c(){e(2,h=h.map(r=>{const b=r.top+r.velocityY,v=r.left+r.velocityX;return(b<=0||b>=m-u)&&(r.velocityY*=-1),(v<=0||v>=m-u)&&(r.velocityX*=-1),{...r,top:b,left:v}}))}setInterval(()=>c(),15);function a(){if(!y){switch(!0){case(o.has(38)&&o.has(39)):s-10>=0&&l+10+u<=m&&(e(0,s-=10),e(1,l+=10));break;case(o.has(38)&&o.has(37)):s-10>=0&&l-10>=0&&(e(0,s-=10),e(1,l-=10));break;case(o.has(40)&&o.has(39)):s+10+u<=m&&l+10+u<=m&&(e(0,s+=10),e(1,l+=10));break;case(o.has(40)&&o.has(37)):s+10+u<=m&&l-10>=0&&(e(0,s+=10),e(1,l-=10));break;case o.has(38):s-10>=0&&e(0,s-=10);break;case o.has(40):s+10+u<=m&&e(0,s+=10);break;case o.has(37):l-10>=0&&e(1,l-=10);break;case o.has(39):l+10+u<=m&&e(1,l+=10);break}r(),o.size>0?g=requestAnimationFrame(a):p=!1}function r(){const b=l+u,v=s+u;for(const w of h){const R=w.left+u,T=w.top+u;if(l<R&&b>w.left&&s<T&&v>w.top){y=!0;break}}}}function f(r){o.has(r.keyCode)||(o.add(r.keyCode),p||(p=!0,g=requestAnimationFrame(a)))}function n(r){o.delete(r.keyCode),o.size===0&&(cancelAnimationFrame(g),p=!1)}function _(){y=!1,e(2,h=[]);for(let r=0;r<5;r++)h.push(E())}return O(()=>{for(let r=0;r<5;r++)h.push(E());c()}),[s,l,h,f,n,_]}class H extends X{constructor(t){super(),Y(this,t,j,Q,K,{})}}export{H as default};
